// Pillars

.pillar {
  position: relative;
  transition: padding-bottom .2s ease-out;

  @include media-md {
    padding: #{$beat * 4} 0;
  }

  &.-light {
    @include media-md {
      header {
        margin-left: $beat * 6;
      }

      .pillar-content {
        float: right;
        width: columns(18);
        padding-left: $beat;

        &::before {
          border-color: color(white);
        }
      }
    }
  }
  &.-dark {
    @include media-md {
      header {
        width: columns(17);
        margin-left: columns(24);
      }

      .pillar-content {
        float: none;
        padding-right: $beat;

        &::before {
          left: auto;
          right: 100%;
          border-color: color(black);
          transform: translateX(1px);
        }
      }
    }
  }

  header {
    .pillar-label {
      margin: 0;
      @include h5;
      @include boxed-text(1);
    }

    .pillar-title {
      margin: 0 0 $beat;
      @include boxed-text(2);
    }

    .pillar-tagline {
      margin: 0;
      @include paragraph-style(22, 30, 0, normal);
      font-style: italic;
      @include boxed-text(1);
      span {
        line-height: 1.1;
      }
    }
  }

  .pillar-content {
    z-index: 1;
    position: relative;
    margin-top: $beat * 2;
    @include outlined-box;
    padding: 20px 18px $beat;

    h3 {
      margin: 0;
      @include h4;
      @include smooth;
      margin-bottom: 2px;
    }

    p {
      margin: 0;
      @include p;

      a {
        @extend .inline-link;
      }

      + * {
        margin-top: 36px;
      }
    }

    .pillar-expand {
      margin-top: 45px;
      margin-left: -6px;
    }

    @include media-md {
      padding-right: 0;
      width: columns(18);
      margin-top: $beat * 7;

      &::before {
        top: 0;
        left: 100%;
        z-index: 1;
        content: '';
        bottom: -1px;
        width: 6000px;
        position: absolute;
        border-top: 1px solid;
        border-bottom: 1px solid;
        background-color: inherit;
      }

      .pillar-expand {
        padding-left: 0;
        margin-top: 100px;
      }
    }
  }

  // Individual Pillars
  &.pillar-1 {
    padding-top: 182px;;

    .background-grid {
      top: 363px;
      bottom: $beat;
    }

    .section-art {
      .pipe.-small {
        top: 0;
        left: 35px;
        width: 130px;
      }
    }

    .pillar-content {
      .pillar-expand {
        margin-top: 28px;
      }
    }

    @include media-md {
      padding-bottom: 95px;
      padding-top: #{$beat * 4};

      .pillar-content {
        margin-top: $beat * 7;
      }

      .background-grid {
        top: $beat * 12;
      }

      .section-art {
        .pipe.-large {
          right: 270px;
          width: 964.9px;
        }
      }

      .shapes {
        #shape-2a {
          width: 120px;
          height: 360px;
          top: $beat * 2;
          right: $beat * 9;
        }
        #shape-2b {
          width: 265px;
          height: 726px;
          top: $beat * 6;
          left: $beat * 2;
        }
        #shape-2c {
          width: 120px;
          height: 332px;
          top: $beat * 18;
          left: $beat * 13;
        }
        #shape-2d {
          width: 96px;
          height: 258px;
          top: $beat * 15;
          left: -$beat * 2;
        }
        #shape-2e {
          left: 0;
          width: 120px;
          height: 360px;
          top: $beat * 29;
        }
        #shape-2f {
          width: 72px;
          height: 339px;
          top: $beat * 33;
          transform: translateX(-100%);
        }
      }
    }
  }

  &.pillar-2 {
    @include smooth;
    padding-top: 168px;
    padding-bottom: $beat * 6;

    .background-grid {
      top: 345px;
      bottom: $beat * 2;
    }

    .section-art {
      .pipe.-small {
        left: 35px;
        width: 107px;
      }
    }

    header {
      .pillar-label,
      .pillar-tagline {
        @include boxed-text(1, black);
      }
      .pillar-title {
        @include boxed-text(2, black);
      }
      .pillar-tagline span {
        line-height: 1.1;
      }
    }

    .pillar-content {
      padding-bottom: 20px;
      @include outlined-box(black);
    }

    @include media-md {
      padding-bottom: 236px;
      padding-top: $beat * 6;

      .background-grid {
        top: $beat * 14;
      }

      .section-art {
        .pipe.-large {
          right: 270px;
          width: 562.849px;
        }
      }

      .shapes {
        #shape-3a {
          right: 0;
          top: $beat;
          width: 72px;
          height: 339px;
          transform: translateX(100%);
        }
        #shape-3b {
          left: 0;
          width: 169px;
          height: 471px;
          top: $beat * 5;
        }
        #shape-3c {
          right: 0;
          width: 456px;
          height: 976px;
          top: $beat * 6;
        }
        #shape-3d {
          right: 0;
          width: 120px;
          height: 226px;
          top: $beat * 29;
        }
        #shape-3e {
          width: 121px;
          height: 226px;
          top: $beat * 33;
          right: $beat * 14;
        }
      }
    }
  }

  &.pillar-3 {
    padding-top: $beat * 3;
    padding-bottom: $beat * 7;

    .background-grid {
      top: 249px;
      bottom: $beat * 5;
    }

    .section-art {
      .pipe.-small {
        left: 132px;
        width: 10px;
      }
    }

    .pillar-content {
      .pillar-expand {
        margin-top: 18px;
      }
    }

    @include media-md {
      padding-bottom: 191px;
      padding-top: $beat * 5;

      .pillar-expand {
        margin-top: 41px;
      }

      .background-grid {
        top: $beat * 13;
      }

      .section-art {
        .pipe.-large {
          left: 199px;
          width: 802.64px;
        }
      }

      .shapes {
        #shape-4a {
          left: 0;
          width: 190px;
          height: 456px;
          top: $beat * 4;
          transform: translateX(-100%);
        }
        #shape-4b {
          width: 336px;
          height: 841px;
          top: $beat * 7;
          left: $beat * 5;
        }
        #shape-4c {
          width: 49px;
          height: 265px;
          top: $beat * 22;
          left: $beat * 17;
        }
        #shape-4d {
          width: 169px;
          height: 457px;
          right: -$beat;
          top: $beat * 9;
        }
        #shape-4e {
          left: -$beat;
          width: 121px;
          height: 381px;
          top: $beat * 20;
        }
        #shape-4f {
          width: 121px;
          height: 381px;
          top: $beat * 39;
          left: $beat * 14;
        }
      }
    }
  }

  &.pillar-4 {
    @include smooth;
    padding-top: $beat * 3;
    padding-bottom: $beat * 7;

    .background-grid {
      top: 206px;
      bottom: $beat * 5;
    }

    .section-art {
      .pipe.-small {
        left: 48px;
        width: 94px;
      }
    }

    .pillar-content {
      .pillar-expand {
        margin-top: 39px;
      }
    }

    header {
      .pillar-label,
      .pillar-tagline {
        @include boxed-text(1);
      }
      .pillar-title {
        @include boxed-text(2);
      }
      .pillar-tagline span {
        line-height: 1.1;
      }
    }

    .pillar-content {
      @include outlined-box;
    }

    @include media-md {
      padding-bottom: 224px;
      padding-top: $beat * 11;

      .pillar-expand {
        margin-top: 47px;
      }

      .background-grid {
        top: $beat * 17;
      }

      .pillar-content {
        margin-top: $beat * 9;
        &::before {
          border-color: color(white);
        }
      }

      .section-art {
        .pipe.-large {
          left: 91px;
          width: 910.628px;
        }
      }

      .shapes {
        #shape-5a {
          width: 168px;
          height: 454px;
          top: -$beat * 7;
          left: $beat * 2;
        }
        #shape-5b {
          right: 0;
          width: 72px;
          height: 339px;
          top: $beat * 9;
          transform: translateX(100%);
        }
        #shape-5c {
          width: 456px;
          height: 846px;
          top: $beat * 14;
          right: -$beat * 2;
        }
        #shape-5d {
          width: 120px;
          height: 226px;
          top: $beat * 31;
          right: -$beat * 2;
        }
        #shape-5e {
          width: 169px;
          height: 316px;
          top: $beat * 16;
          left: -$beat * 4;
        }
        #shape-5f {
          width: 121px;
          height: 480px;
          top: $beat * 41;
          right: $beat * 16;
        }
        #shape-5g {
          width: 168px;
          height: 522px;
          top: $beat * 52;
          right: $beat * 2;
        }
      }
    }
  }

  &.pillar-5 {
    padding-top: $beat * 4;
    padding-bottom: $beat * 9;

    .background-grid {
      top: 230px;
      bottom: $beat * 7;
    }

    .section-art {
      .pipe.-small {
        left: 48px;
        width: 10px;
      }
    }

    .pillar-content {
      padding-bottom: 37px;
    }

    @include media-md {
      padding-top: $beat * 7;
      padding-bottom: $beat * 23;

      .pillar-content {
        margin-top: $beat * 8;
      }

      .background-grid {
        top: $beat * 13;
      }

      .section-art {
        .pipe.-large {
          left: 91px;
          width: 765.988px;
        }
      }

      .shapes {
        #shape-6a {
          top: -$beat;
          width: 168px;
          height: 375px;
          left: -$beat * 3;
        }
        #shape-6b {
          width: 193px;
          height: 533px;
          top: $beat * 6;
          right: -$beat * 4;
        }
        #shape-6c {
          width: 456px;
          height: 1024px;
          top: $beat * 9;
          left: -$beat * 3;
        }
        #shape-6d {
          width: 120px;
          height: 226px;
          top: $beat * 34;
          left: $beat * 11;
        }
        #shape-6e {
          width: 120px;
          height: 226px;
          top: $beat * 38;
          left: -$beat * 3;
        }
        #shape-6f {
          width: 193px;
          height: 600px;
          top: $beat * 55;
          left: $beat * 15;
        }
      }
    }
  }

  // Expandalbe Pillars Open
  &.expandable-pillar-open {
    padding-bottom: 0;
    @include media-md {
      padding-bottom: 0;
    }
  }
}

// Expandable Pillars
.expandable-pillar {
  z-index: 2;
  @include smooth;
  position: relative;
  color: color(white);

  .pillar-close-container {
    top: 0;
    left: 50%;
    z-index: -1;
    width: 100%;
    position: absolute;
    transform: translateX(-50%);

    .-inner {
      display: none;
      height: $beat * 4;
      position: relative;
      color: color(offwhite);
      background-color: color(black);
      padding: $beat #{$beat / 2} #{$beat * 2} #{$beat / 2};
    }
  }

  &-content {
    background-color: color(black);
    padding: #{$beat * 3} 0 #{$beat * 6};

    > .sitewrapper {
      opacity: 0;
    }

    @include media-md {
      padding: #{$beat * 6} 0;
    }
  }

  h2 {
    @include h3;
    margin: 0 0 4px;
  }

  &-text {
    p {
      margin: 0 0 30px;
    }
  }

  &-images {
    .image {
      height: 0;
      width: 100%;
      background-size: cover;
      outline: 1px solid color(white);

      + .image {
        margin-top: 1px;
      }
    }
  }

  @include media-md {
    .pillar-close-container {
      .-inner {
        left: columns(23);
        width: columns(19);
        padding: $beat $beat #{$beat * 2} $beat;

        .pillar-close {
          margin-left: -6px;
        }

        &.-left {
          left: -$beat;
          width: columns(19);
          padding-left: 42px;
        }
      }
    }

    .expandable-pillar-text {
      width: columns(24);
      padding-right: $beat;
      flex-basis: columns(24);
      border-right: 1px solid color(white);
    }

    .expandable-pillar-images {
      width: columns(17);
      flex-basis: columns(17);
    }
  }
}

// Specific Expandable Pillars
#city-of-portland {
  .expandable-pillar-images {
    .image {
      padding-bottom: 100%;
      &.-one {
        background-image: url('../images/portland-1_zack-spear-25262-unsplash.jpg');
      }
      &.-two {
        background-image: url('../images/portland-2_elena-kuchko-1135472-unsplash.jpg');
      }
      @include media-md {
        &.-two {
          width: 65.1594%;
          height: 36.5203%;
          padding-bottom: 0;
        }
      }
    }
  }
}

#city-of-pittsburgh {
  .expandable-pillar-images {
    padding-top: 30px;
    .image {
      &.-one {
        padding-bottom: 62.854%;
        background-image: url('../images/pittsburgh-1_vidar-nordli-mathisen-789684-unsplash.jpg');
      }
      &.-two {
        padding-bottom: 100%;
        background-image: url('../images/pittsburgh-2_vidar-nordli-mathisen-606813-unsplash.jpg');
      }
      @include media-md {
        &.-one {
          width: 88%;
        }
      }
    }
  }
}

#city-of-san-bernadino {
  .expandable-pillar-images {
    .image {
      &.-one {
        padding-bottom: 66.8304%;
        background-image: url('../images/san-bernadino-1_owen-rupp-607232-unsplash.jpg');
      }
    }

    @include media-md {
      padding-top: $beat * 3;
    }
  }
}