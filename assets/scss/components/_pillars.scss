// Pillars

.pillar {
  overflow: hidden;

  &.-light {
    @include media-md {
      header {
        margin-left: $beat * 6;
      }

      .pillar-content {
        float: right;
        padding-left: $beat;
        width: columns(18);

        &::before {
          border-color: color(white);
        }
      }
    }
  }
  &.-dark {
    @include media-md {
      header {
        width: columns(17);
        margin-left: columns(24);
      }

      .pillar-content {
        float: none;
        padding-right: $beat;

        &::before {
          left: auto;
          right: 100%;
          border-color: color(black);
          transform: translateX(1px);;
        }
      }
    }
  }

  header {
    .pillar-label {
      margin: 0;
      @include h5;
      @include boxed-text(1);
    }

    .pillar-title {
      @include h2;
      margin: 0 0 $beat;
      @include boxed-text(2);
    }

    .pillar-tagline {
      margin: 0;
      @include p;
      font-style: italic;
      @include boxed-text(1);
      span {
        line-height: 1.1;
      }
    }
  }

  .pillar-content {
    position: relative;
    padding-top: $beat;
    padding-bottom: $beat;
    @include outlined-box;

    h3 {
      margin: 0;
      @include h4;
    }

    p {
      @include p;
      margin: 0 0 $beat * 2;

      a {
        @extend .inline-link;
      }
    }

    .pillar-toggle {
      .pillar-close-container {
        left: 0;
        z-index: 1;
        width: 100%;
        height: $beat * 6;
        bottom: -$beat * 2;
        position: absolute;
        color: color(offwhite);
        transform: translateY(100%);
        background-color: color(black);
        transition: transform .2s ease-out;
        padding: $beat $beat #{$beat * 2} $beat;
      }

      &.pillar-open {
        .pillar-close-container {
          transform: none;
        }
      }
    }

    @include media-md {
      padding-right: 0;
      margin-top: $beat * 7;

      &::before {
        top: 0;
        left: 100%;
        z-index: 1;
        content: '';
        bottom: -1px;
        width: 6000px;
        position: absolute;
        border-top: 1px solid;
        border-bottom: 1px solid;
        background-color: inherit;
      }
    }
  }

  @include media-md {
    padding: #{$beat * 4} 0;

    .pillar-content {
      width: columns(18);
    }
  }

  // Individual Pillars
  &.pillar-1 {
    @include media-md {
      padding-bottom: $beat * 2;
      .background-grid {
        top: $beat * 12;
      }
    }
  }

  &.pillar-2 {
    @include smooth;

    header {
      .pillar-label,
      .pillar-tagline {
        @include boxed-text(1, black);
      }
      .pillar-title {
        @include boxed-text(2, black);
      }
      .pillar-tagline span {
        line-height: 1.1;
      }
    }
    .pillar-content {
      @include outlined-box(black);
    }

    @include media-md {
      padding-top: $beat * 6;
      .background-grid {
        top: $beat * 14;
      }
    }
  }

  &.pillar-3 {
    @include media-md {
      padding-top: $beat * 5;

      .background-grid {
        top: $beat * 13;
      }
    }
  }

  &.pillar-4 {
    @include smooth;

    header {
      .pillar-label,
      .pillar-tagline {
        @include boxed-text(1, black);
      }
      .pillar-title {
        @include boxed-text(2, black);
      }
      .pillar-tagline span {
        line-height: 1.1;
      }
    }
    .pillar-content {
      @include outlined-box(black);
    }

    @include media-md {
      padding-top: $beat * 8;

      .background-grid {
        top: $beat * 14;
      }
    }
  }

  &.pillar-5 {
    @include media-md {
      padding-top: $beat * 7;

      .background-grid {
        top: $beat * 13;
      }
    }
  }
}

// Expandable Pillars
.expandable-pillar {
  position: relative;
  color: color(white);
  background-color: color(black);

  &-content {
    opacity: 0;
    padding: #{$beat * 3} 0;

    @include media-md {
      padding: #{$beat * 6} 0;
    }
  }

  h2 {
    margin: 0;
    @include h3;
  }

  &-images {
    img {
      display: block;
      outline: 1px solid color(white);
    }
  }

  @include media-md {
    .expandable-pillar-text {
      width: columns(23);
      padding-right: $beat;
      flex-basis: columns(23);
    }

    .expandable-pillar-images {
      width: columns(18);
      flex-basis: columns(18);
    }
  }
}